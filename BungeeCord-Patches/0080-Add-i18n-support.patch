From b9c20dde7be009664a990e940547de0b07c85221 Mon Sep 17 00:00:00 2001
From: Block_Mrlimr267 <113236317+erha134@users.noreply.github.com>
Date: Thu, 2 May 2024 17:50:43 +0800
Subject: [PATCH] Add i18n support


diff --git a/proxy/src/main/java/net/md_5/bungee/BungeeCord.java b/proxy/src/main/java/net/md_5/bungee/BungeeCord.java
index 53de4389..2ce105c3 100644
--- a/proxy/src/main/java/net/md_5/bungee/BungeeCord.java
+++ b/proxy/src/main/java/net/md_5/bungee/BungeeCord.java
@@ -579,7 +579,24 @@ public class BungeeCord extends ProxyServer
     {
         Map<String, Format> cachedFormats = new HashMap<>();
 
-        File file = new File( "messages.properties" );
+        // TubeCord start - Add i18n support
+        String fileName = "messages";
+        switch (System.getProperty("tubecord.i18n.lang", "en_us")) {
+            case "zh_cn": {
+                fileName = fileName + "-zh_cn";
+                break;
+            }
+
+            case "zh_tw":
+            case "zh_hk":
+            default: {
+                break;
+            }
+        }
+
+        File file = new File( fileName + ".properties" );
+        // TubeCord end
+
         if ( file.isFile() )
         {
             try ( FileReader rd = new FileReader( file ) )
diff --git a/proxy/src/main/resources/messages-zh_cn.properties b/proxy/src/main/resources/messages-zh_cn.properties
new file mode 100644
index 00000000..5ee599a6
--- /dev/null
+++ b/proxy/src/main/resources/messages-zh_cn.properties
@@ -0,0 +1,44 @@
+alert=\u00a78[\u00a74\u8b66\u62a5\u00a78]\u00a7r 
+already_connected=\u00a7c\u4f60\u5df2\u7ecf\u5728\u8fd9\u4e2a\u5b50\u670d\u52a1\u5668\u4e0a\u4e86\uff01
+already_connected_proxy=\u00a7c\u4f60\u5df2\u7ecf\u5728 TubeCord \u4ee3\u7406\u7aef\u670d\u52a1\u5668\u4e0a\u4e86\uff01
+already_connecting=\u00a7c\u4f60\u5df2\u7ecf\u5728\u8fde\u63a5\u8fd9\u4e2a\u5b50\u670d\u52a1\u5668\u4e86\uff01
+command_list=\u00a7a[{0}] \u00a7e({1}): \u00a7r{2}
+connect_kick=\u00a7c\u4f60\u5728\u8fde\u63a5\u5b50\u670d\u52a1\u5668 {0} \u88ab\u8e22\u51fa\u4e86\uff0c\u539f\u56e0\uff1a{1}
+current_server=\u00a76\u4f60\u5f53\u524d\u5df2\u8fde\u63a5\u5230\u5b50\u670d\u52a1\u5668 {0}\u3002
+fallback_kick=\u00a7c\u4f60\u65e0\u6cd5\u8fde\u63a5\u5230\u9ed8\u8ba4\u8fde\u63a5\u7684\u5b50\u670d\u52a1\u5668\u6216\u56de\u9000\u7684\u5b50\u670d\u52a1\u5668\u3002\u8bf7\u68c0\u67e5\u5b50\u670d\u52a1\u5668\u7684\u5730\u5740/\u7aef\u53e3/\u9632\u706b\u5899\u914d\u7f6e\u4e0d\u6b63\u786e\uff1f {0}
+fallback_lobby=\u00a7c\u4f60\u65e0\u6cd5\u8fde\u63a5\u81f3\u76ee\u6807\u5b50\u670d\u52a1\u5668\uff0c\u4f60\u8fde\u63a5\u5230\u4e86\u56de\u9000\u7684\u5b50\u670d\u52a1\u5668\u3002
+lost_connection=\u00a7cTubeCord \u4ee3\u7406\u7aef\u670d\u52a1\u5668\u4e0e\u5b50\u670d\u52a1\u5668\u4e22\u5931\u4e86\u8fde\u63a5\u3002
+mojang_fail=\u00a7c\u65e0\u6cd5\u8fde\u63a5 Mojang \u7684\u767b\u5f55\u670d\u52a1\u5668\uff0c\u8bf7\u68c0\u67e5\u5b83\u4eec\u662f\u5426\u5b95\u673a\u4e86\u3002
+no_permission=\u00a7c\u4f60\u6ca1\u6709\u6743\u9650\u7528\u8fd9\u4e2a\u547d\u4ee4\uff01
+no_server=\u00a7c\u4f60\u8981\u8fde\u63a5\u7684\u5b50\u670d\u52a1\u5668\u4e0d\u5b58\u5728\u3002
+no_server_permission=\u00a7c\u4f60\u6ca1\u6709\u6743\u9650\u8fdb\u8fd9\u4e2a\u5b50\u670d\u52a1\u5668\uff01
+outdated_client=\u00a7c\u4f60\u7684 Minecraft \u5ba2\u6237\u7aef\u7248\u672c\u592a\u4f4e\u4e86\uff01\u8bf7\u4f7f\u7528 {0}
+outdated_server=\u00a7c\u4f60\u8981\u8fde\u63a5\u7684\u5b50\u670d\u52a1\u5668 Minecraft \u670d\u52a1\u7aef\u7248\u672c\u592a\u4f4e\u4e86\uff01TubeCord \u4ee3\u7406\u670d\u52a1\u7aef\u4ecd\u7136\u662f {0}
+proxy_full=\u00a7cTubeCord \u4ee3\u7406\u670d\u52a1\u7aef\u7684\u73a9\u5bb6\u4e0a\u9650\u6ee1\u4e86\uff01
+restart=\u00a7cTubeCord \u4ee3\u7406\u670d\u52a1\u7aef\u6b63\u5728\u91cd\u542f...
+server_list=\u00a76\u4f60\u6b64\u65f6\u53ef\u4ee5\u8fde\u63a5\u5230\u8fd9\u4e2a\u5b50\u670d\u52a1\u5668\uff1a
+server_went_down=\u00a7c\u4f60\u4e4b\u524d\u6240\u5728\u7684\u670d\u52a1\u5668\u51fa\u73b0\u6545\u969c\uff0c\u4f60\u8fde\u63a5\u5230\u4e86\u56de\u9000\u7684\u5b50\u670d\u52a1\u5668
+total_players=\u5728\u7ebf\u7684\u73a9\u5bb6\u603b\u6570\uff1a{0}
+name_invalid=\u00a7c\u4f60\u7684\u7528\u6237\u540d\u5305\u542b\u975e\u6cd5\u5b57\u7b26\u3002
+ping_cannot_connect=\u00a7c\u65e0\u6cd5 Ping \u5230\u76ee\u6807\u7684\u5b50\u670d\u52a1\u5668\u3002
+offline_mode_player=\u00a7c\u4f60\u4e0d\u662f\u6b63\u7248\u73a9\u5bb6\uff01
+secure_profile_required=\u00a7c\u4f60\u5fc5\u987b\u5177\u6709 Mojang \u7b7e\u540d\u7684\u516c\u94a5\u624d\u80fd\u8fdb\u5165 TubeCord \u4ee3\u7406\u670d\u52a1\u7aef\u3002
+secure_profile_expired=\u00a7c\u4f60\u7684 Mojang \u7b7e\u540d\u7684\u516c\u94a5\u8fc7\u671f\u4e86\uff0c\u8bf7\u91cd\u65b0\u767b\u5f55\u5230 Minecraft\u3002
+secure_profile_invalid=\u00a7c\u4f60\u7684 Mojang \u7b7e\u540d\u7684\u516c\u94a5\u65e0\u6548\uff0c\u8bf7\u91cd\u65b0\u767b\u5f55\u5230 Minecraft\u3002
+secure_profile_unsupported=\u00a7c\u4f60\u7684 Minecraft \u5ba2\u6237\u7aef\u7248\u672c\u592a\u4f4e\u4e86\uff0c\u4e0d\u652f\u6301\u4f7f\u7528 Mojang \u7b7e\u540d\u7684\u516c\u94a5\u3002\u8bf7\u66f4\u65b0\u5230 1.19 \u53ca\u4ee5\u4e0a\u7684 Minecraft \u5ba2\u6237\u7aef\u3002
+message_needed=\u00a7c\u4f60\u5fc5\u987b\u63d0\u4f9b\u8b66\u62a5\u7684\u6d88\u606f\u3002
+error_occurred_player=\u00a7cTubeCord \u4ee3\u7406\u670d\u52a1\u7aef\u5728\u5904\u7406\u548c\u89e3\u6790\u4f60\u8981\u8b66\u62a5\u7684\u6d88\u606f\u65f6\u51fa\u73b0\u4e86\u4e00\u4e2a\u9519\u8bef\u3002\uff08\u628a\u9f20\u6807\u653e\u5728\u6d88\u606f\u4e0a\u9762\u6765\u67e5\u770b\u8be6\u7ec6\u7684\u9519\u8bef\u4fe1\u606f\uff09
+error_occurred_console=\u00a7cTubeCord \u4ee3\u7406\u670d\u52a1\u7aef\u5728\u5904\u7406\u548c\u89e3\u6790\u4f60\u8981\u8b66\u62a5\u7684\u6d88\u606f\u65f6\u51fa\u73b0\u4e86\u4e00\u4e2a\u9519\u8bef\uff1a{0}
+click_to_connect=\u70b9\u51fb\u6765\u8fde\u63a5\u8be5\u5b50\u670d\u52a1\u5668
+username_needed=\u00a7c\u8bf7\u5728\u547d\u4ee4\u540e\u9762\u6dfb\u52a0\u4e00\u4e2a\u73a9\u5bb6\u540d\u5b57\u7684\u53c2\u6570\u3002
+user_not_online=\u00a7c\u90a3\u4e2a\u73a9\u5bb6\u4e0d\u5728\u7ebf\u3002
+user_online_at=\u00a7a{0} \u00a7r\u5728 {1} \u5b50\u670d\u52a1\u5668\u4e0a
+send_cmd_usage=\u00a7c\u53c2\u6570\u4e0d\u591f\uff0c\u7528\u6cd5\uff1a/send <\u5b50\u670d\u52a1\u5668\u540d\u5b57|\u73a9\u5bb6|\u6240\u6709\u73a9\u5bb6|\u4f60\u76ee\u524d\u6240\u5728\u7684\u5b50\u670d\u52a1\u5668> <\u6d88\u606f>
+player_only=\u00a7c\u53ea\u6709\u73a9\u5bb6\u624d\u80fd\u7528\u8fd9\u4e2a\u547d\u4ee4
+you_got_summoned=\u00a76{0} \u7684\u6d88\u606f\u5df2\u7ecf\u53d1\u9001\u5230\u5b50\u670d\u52a1\u5668 {1}
+command_perms_groups=\u00a76\u4f60\u5728\u8fd9\u4e9b\u6743\u9650\u7ec4\u91cc\uff1a{0}
+command_perms_permission=\u00a79- {0}
+command_ip=\u00a79\u73a9\u5bb6 {0} \u7684 IP \u5730\u5740\u662f {1}
+illegal_chat_characters=\u00a7c\u4f60\u7684\u804a\u5929\u6d88\u606f\u91cc\u6709\u975e\u6cd5\u5b57\u7b26\uff08{0}\uff09
+kick_message=\u00a7c\u4f60\u88ab\u8e22\u51fa\u4e86 TubeCord \u4ee3\u7406\u670d\u52a1\u7aef
+reject_transfer=\u00a7c\u4f60\u7684\u8fde\u63a5\u88ab\u62d2\u7edd\u4e86\u3002
-- 
2.34.1

